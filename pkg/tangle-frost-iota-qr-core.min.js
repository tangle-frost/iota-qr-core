!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@tangle-frost/iota-core/dist/helpers/numberHelper")):"function"==typeof define&&define.amd?define("@tangle-frost/iota-qr-core",["@tangle-frost/iota-core/dist/helpers/numberHelper"],e):"object"==typeof exports?exports["@tangle-frost/iota-qr-core"]=e(require("@tangle-frost/iota-core/dist/helpers/numberHelper")):t.TangleFrostIotaQrCore=e(t["@tangle-frost/iota-core/dist/helpers/numberHelper"])}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=14)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.number=1]="number",t[t.alphaNumeric=2]="alphaNumeric",t[t.byte8=4]="byte8"}(e.QRDataMode||(e.QRDataMode={}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.L=1]="L",t[t.M=0]="M",t[t.Q=3]="Q",t[t.H=2]="H"}(e.ErrorCorrectLevel||(e.ErrorCorrectLevel={}))},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){r&&n(t,r)}(t,0,[{key:"initialize",value:function(){if(!t.EXP_TABLE){t.EXP_TABLE=[],t.LOG_TABLE=[];for(var e=0;e<256;e++)t.EXP_TABLE.push(e<8?1<<e:t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8]),t.LOG_TABLE.push(0);for(var r=0;r<255;r++)t.LOG_TABLE[t.EXP_TABLE[r]]=r}}},{key:"glog",value:function(e){if(e<1)throw new Error("log(' + ".concat(e," + ')'"));return t.LOG_TABLE[e]}},{key:"gexp",value:function(e){for(var r=e;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]}}]),t}();e.MathHelper=o},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(0),u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._mode=e,this._data=r}return function(t,e,r){e&&n(t.prototype,e)}(t,[{key:"getMode",value:function(){return this._mode}},{key:"getData",value:function(){return this._data}},{key:"getLengthInBits",value:function(t){if(t>=1&&t<10)switch(this._mode){case o.QRDataMode.number:return 10;case o.QRDataMode.alphaNumeric:return 9;case o.QRDataMode.byte8:return 8;default:throw new Error("Invalid mode ".concat(this._mode))}else if(t<27)switch(this._mode){case o.QRDataMode.number:return 12;case o.QRDataMode.alphaNumeric:return 11;case o.QRDataMode.byte8:return 16;default:throw new Error("Invalid mode ".concat(this._mode))}else{if(!(t<41))throw new Error("Invalid typeNumber ".concat(t));switch(this._mode){case o.QRDataMode.number:return 14;case o.QRDataMode.alphaNumeric:return 13;case o.QRDataMode.byte8:return 16;default:throw new Error("Invalid mode ".concat(this._mode))}}}}]),t}();e.QRDataBase=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),u=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=0;n<e.length&&0===e[n];)n++;this._num=[];for(var o=e.length-n,u=0;u<o;u++)this._num.push(e[n+u]);for(var i=0;i<r;i++)this._num.push(0)}return function(t,e,r){e&&n(t.prototype,e)}(t,[{key:"getAt",value:function(t){return this._num[t]}},{key:"getLength",value:function(){return this._num.length}},{key:"toString",value:function(){for(var t="",e=0;e<this.getLength();e++)e>0&&(t+=","),t+=this.getAt(e);return t.toString()}},{key:"toLogString",value:function(){for(var t="",e=0;e<this.getLength();e++)e>0&&(t+=","),t+=o.MathHelper.glog(this.getAt(e));return t.toString()}},{key:"multiply",value:function(e){for(var r=[],n=this.getLength()+e.getLength()-1,u=0;u<n;u++)r.push(0);for(var i=0;i<this.getLength();i++)for(var a=0;a<e.getLength();a++)r[i+a]^=o.MathHelper.gexp(o.MathHelper.glog(this.getAt(i))+o.MathHelper.glog(e.getAt(a)));return new t(r)}},{key:"mod",value:function(e){if(this.getLength()-e.getLength()<0)return this;for(var r=o.MathHelper.glog(this.getAt(0))-o.MathHelper.glog(e.getAt(0)),n=[],u=0;u<this.getLength();u++)n.push(this.getAt(u));for(var i=0;i<e.getLength();i++)n[i]^=o.MathHelper.gexp(o.MathHelper.glog(e.getAt(i))+r);return new t(n).mod(e)}}]),t}();e.Polynomial=u},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),u=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._totalCount=e,this._dataCount=r}return function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(t,[{key:"getDataCount",value:function(){return this._dataCount}},{key:"getTotalCount",value:function(){return this._totalCount}}],[{key:"getRSBlocks",value:function(e,r){for(var n=t.getRsBlockTable(e,r),o=n.length/3,u=[],i=0;i<o;i++)for(var a=n[3*i+0],s=n[3*i+1],c=n[3*i+2],l=0;l<a;l++)u.push(new t(s,c));return u}},{key:"getRsBlockTable",value:function(e,r){switch(r){case o.ErrorCorrectLevel.L:return t.RS_BLOCK_TABLE[4*(e-1)+0];case o.ErrorCorrectLevel.M:return t.RS_BLOCK_TABLE[4*(e-1)+1];case o.ErrorCorrectLevel.Q:return t.RS_BLOCK_TABLE[4*(e-1)+2];case o.ErrorCorrectLevel.H:return t.RS_BLOCK_TABLE[4*(e-1)+3]}throw new Error("Invalid error correct level ".concat(r))}}]),t}();u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.RSBlock=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.PATTERN000=0]="PATTERN000",t[t.PATTERN001=1]="PATTERN001",t[t.PATTERN010=2]="PATTERN010",t[t.PATTERN011=3]="PATTERN011",t[t.PATTERN100=4]="PATTERN100",t[t.PATTERN101=5]="PATTERN101",t[t.PATTERN110=6]="PATTERN110",t[t.PATTERN111=7]="PATTERN111"}(e.MaskPattern||(e.MaskPattern={}))},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(1),u=r(6),i=r(0),a=r(2),s=r(4),c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,r){r&&n(t,r)}(t,0,[{key:"getPatternPosition",value:function(e){return t.PATTERN_POSITION_TABLE[e-1]}},{key:"getMaxLength",value:function(e,r,n){var u=e-1,a=0,s=0;switch(n){case o.ErrorCorrectLevel.L:a=0;break;case o.ErrorCorrectLevel.M:a=1;break;case o.ErrorCorrectLevel.Q:a=2;break;case o.ErrorCorrectLevel.H:a=3;break;default:throw new Error("Unknown error correction level ".concat(n))}switch(r){case i.QRDataMode.number:s=0;break;case i.QRDataMode.alphaNumeric:s=1;break;case i.QRDataMode.byte8:s=2;break;default:throw new Error("Unknown data mode ".concat(r))}return t.MAX_LENGTH[u][a][s]}},{key:"getErrorCorrectPolynomial",value:function(t){for(var e=new s.Polynomial([1]),r=0;r<t;r++)e=e.multiply(new s.Polynomial([1,a.MathHelper.gexp(r)]));return e}},{key:"getMaskMethod",value:function(t){switch(t){case u.MaskPattern.PATTERN000:return function(t,e){return(t+e)%2==0};case u.MaskPattern.PATTERN001:return function(t,e){return t%2==0};case u.MaskPattern.PATTERN010:return function(t,e){return e%3==0};case u.MaskPattern.PATTERN011:return function(t,e){return(t+e)%3==0};case u.MaskPattern.PATTERN100:return function(t,e){return(~~(t/2)+~~(e/3))%2==0};case u.MaskPattern.PATTERN101:return function(t,e){return t*e%2+t*e%3==0};case u.MaskPattern.PATTERN110:return function(t,e){return(t*e%2+t*e%3)%2==0};case u.MaskPattern.PATTERN111:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw new Error("Invalid mask ".concat(t))}}},{key:"getBCHTypeInfo",value:function(e){for(var r=e<<10;t.getBCHDigit(r)-t.getBCHDigit(t.G15)>=0;)r^=t.G15<<t.getBCHDigit(r)-t.getBCHDigit(t.G15);return(e<<10|r)^t.G15_MASK}},{key:"getBCHTypeNumber",value:function(e){for(var r=e<<12;t.getBCHDigit(r)-t.getBCHDigit(t.G18)>=0;)r^=t.G18<<t.getBCHDigit(r)-t.getBCHDigit(t.G18);return e<<12|r}},{key:"getBCHDigit",value:function(t){for(var e=t,r=0;0!==e;)r++,e>>>=1;return r}}]),t}();c.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],c.MAX_LENGTH=[[[41,25,17,10],[34,20,14,8],[27,16,11,7],[17,10,7,4]],[[77,47,32,20],[63,38,26,16],[48,29,20,12],[34,20,14,8]],[[127,77,53,32],[101,61,42,26],[77,47,32,20],[58,35,24,15]],[[187,114,78,48],[149,90,62,38],[111,67,46,28],[82,50,34,21]],[[255,154,106,65],[202,122,84,52],[144,87,60,37],[106,64,44,27]],[[322,195,134,82],[255,154,106,65],[178,108,74,45],[139,84,58,36]],[[370,224,154,95],[293,178,122,75],[207,125,86,53],[154,93,64,39]],[[461,279,192,118],[365,221,152,93],[259,157,108,66],[202,122,84,52]],[[552,335,230,141],[432,262,180,111],[312,189,130,80],[235,143,98,60]],[[652,395,271,167],[513,311,213,131],[364,221,151,93],[288,174,119,74]]],c.G15=1335,c.G18=7973,c.G15_MASK=21522,e.QRHelper=c},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._buffer=[],this._length=0}return function(t,e,r){e&&n(t.prototype,e)}(t,[{key:"getBuffer",value:function(){return this._buffer}},{key:"getLengthInBits",value:function(){return this._length}},{key:"put",value:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))}},{key:"putBit",value:function(t){this._length===8*this._buffer.length&&this._buffer.push(0),t&&(this._buffer[~~(this._length/8)]|=128>>>this._length%8),this._length++}},{key:"toString",value:function(){for(var t="",e=0;e<this.getLengthInBits();e++)t+=this.getBit(e)?"1":"0";return t}},{key:"getBit",value:function(t){return 1==(this._buffer[~~(t/8)]>>>7-t%8&1)}}]),t}();e.BitBuffer=o},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(3),s=r(0),c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,s.QRDataMode.number,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,a.QRDataBase),function(t,e,r){e&&o(t.prototype,e)}(e,[{key:"getLength",value:function(){return this.getData().length}},{key:"write",value:function(t){for(var e=this.getData(),r=0;r+2<e.length;)t.put(this.strToNum(e.substring(r,r+3)),10),r+=3;r<e.length&&(e.length-r==1?t.put(this.strToNum(e.substring(r,r+1)),4):e.length-r==2&&t.put(this.strToNum(e.substring(r,r+2)),7))}},{key:"strToNum",value:function(t){for(var e=0,r=0;r<t.length;r++)e=10*e+this.charToNum(t.charAt(r));return e}},{key:"charToNum",value:function(t){if(t>="0"&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw new Error("Illegal character in string : ".concat(t))}}]),e}();e.QRNumber=c},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(3),s=r(0),c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,s.QRDataMode.byte8,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,a.QRDataBase),function(t,e,r){e&&o(t.prototype,e)}(e,[{key:"getLength",value:function(){return this.stringToBytes(this.getData()).length}},{key:"write",value:function(t){for(var e=this.stringToBytes(this.getData()),r=0;r<e.length;r++)t.put(e[r],8)}},{key:"stringToBytes",value:function(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);n<128?e.push(n):n<2048?e.push(192|n>>6,128|63&n):n<55296||n>=57344?e.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&t.charCodeAt(r)),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return e}}]),e}();e.QRByte8=c},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var a=r(3),s=r(0),c=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,u(e).call(this,s.QRDataMode.alphaNumeric,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(e,a.QRDataBase),function(t,e,r){e&&o(t.prototype,e)}(e,[{key:"getLength",value:function(){return this.getData().length}},{key:"write",value:function(t){for(var e=this.getData(),r=0;r+1<e.length;)t.put(45*this.getCode(e.charAt(r))+this.getCode(e.charAt(r+1)),11),r+=2;r<e.length&&t.put(this.getCode(e.charAt(r)),6)}},{key:"getCode",value:function(t){if(t>="0"&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if(t>="A"&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw new Error("Illegal character in string : ".concat(t))}}}]),e}();e.QRAlphaNumeric=c},function(e,r){e.exports=t},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var o=r(12),u=r(11),i=r(10),a=r(9),s=r(8),c=r(2),l=r(4),f=r(7),h=r(5),p=r(1),g=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.ErrorCorrectLevel.L;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!o.NumberHelper.isInteger(e)||e<0||e>40)throw Error("The typeNumber parameter should be a number >= 0 and <= 40");this._typeNumber=e,this._errorCorrectLevel=r,this._qrData=[],this._moduleCount=0,this._modules=[],c.MathHelper.initialize()}return function(t,e,r){e&&n(t.prototype,e)}(t,[{key:"addText",value:function(t){this._qrData.push(new i.QRByte8(t))}},{key:"addNumber",value:function(t){this._qrData.push(new a.QRNumber(t))}},{key:"addAlphaNumeric",value:function(t){this._qrData.push(new u.QRAlphaNumeric(t))}},{key:"generate",value:function(){this.autoDetectTypeNumber(),this.makeImpl(!1,this.getBestMaskPattern());for(var t=[],e=0;e<this._moduleCount;e++)for(var r=0;r<this._moduleCount;r++)t[r]=t[r]||[],t[r][e]=this.isDark(e,r);return t}},{key:"isDark",value:function(t,e){return null!==this._modules[t][e]&&this._modules[t][e]}},{key:"getBestMaskPattern",value:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=this.getLostPoint();(0===r||t>n)&&(t=n,e=r)}return e}},{key:"makeImpl",value:function(t,e){this._moduleCount=4*this._typeNumber+17,this._modules=[];for(var r=0;r<this._moduleCount;r++){this._modules.push([]);for(var n=0;n<this._moduleCount;n++)this._modules[r].push(null)}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this._moduleCount-7,0),this.setupPositionProbePattern(0,this._moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this._typeNumber>=7&&this.setupTypeNumber(t);var o=this.createData();this.mapData(o,e)}},{key:"mapData",value:function(t,e){for(var r=-1,n=this._moduleCount-1,o=7,u=0,i=f.QRHelper.getMaskMethod(e),a=this._moduleCount-1;a>0;a-=2){6===a&&(a-=1);for(var s=!0;s;){for(var c=0;c<2;c++)if(null===this._modules[n][a-c]){var l=!1;u<t.length&&(l=1==(t[u]>>>o&1)),i(n,a-c)&&(l=!l),this._modules[n][a-c]=l,-1==(o-=1)&&(u++,o=7)}((n+=r)<0||this._moduleCount<=n)&&(n-=r,r=-r,s=!1)}}}},{key:"setupPositionAdjustPattern",value:function(){for(var t=f.QRHelper.getPatternPosition(this._typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],o=t[r];if(null===this._modules[n][o])for(var u=-2;u<=2;u++)for(var i=-2;i<=2;i++)this._modules[n+u][o+i]=-2===u||2===u||-2===i||2===i||0===u&&0===i}}},{key:"setupPositionProbePattern",value:function(t,e){for(var r=-1;r<=7;r++)for(var n=-1;n<=7;n++)t+r<=-1||this._moduleCount<=t+r||e+n<=-1||this._moduleCount<=e+n||(this._modules[t+r][e+n]=0<=r&&r<=6&&(0===n||6===n)||0<=n&&n<=6&&(0===r||6===r)||2<=r&&r<=4&&2<=n&&n<=4)}},{key:"setupTimingPattern",value:function(){for(var t=8;t<this._moduleCount-8;t++)null===this._modules[t][6]&&(this._modules[t][6]=t%2==0);for(var e=8;e<this._moduleCount-8;e++)null===this._modules[6][e]&&(this._modules[6][e]=e%2==0)}},{key:"setupTypeNumber",value:function(t){for(var e=f.QRHelper.getBCHTypeNumber(this._typeNumber),r=0;r<18;r++)this._modules[~~(r/3)][r%3+this._moduleCount-8-3]=!t&&1==(e>>r&1);for(var n=0;n<18;n++)this._modules[n%3+this._moduleCount-8-3][~~(n/3)]=!t&&1==(e>>n&1)}},{key:"setupTypeInfo",value:function(t,e){for(var r=this._errorCorrectLevel<<3|e,n=f.QRHelper.getBCHTypeInfo(r),o=0;o<15;o++){var u=!t&&1==(n>>o&1);o<6?this._modules[o][8]=u:o<8?this._modules[o+1][8]=u:this._modules[this._moduleCount-15+o][8]=u}for(var i=0;i<15;i++){var a=!t&&1==(n>>i&1);i<8?this._modules[8][this._moduleCount-i-1]=a:i<9?this._modules[8][15-i-1+1]=a:this._modules[8][15-i-1]=a}this._modules[this._moduleCount-8][8]=!t}},{key:"getLostPoint",value:function(){for(var t=this._moduleCount,e=0,r=0;r<t;r++)for(var n=0;n<t;n++){for(var o=0,u=this.isDark(r,n),i=-1;i<=1;i++)if(!(r+i<0||t<=r+i))for(var a=-1;a<=1;a++)n+a<0||t<=n+a||0===i&&0===a||u===this.isDark(r+i,n+a)&&o++;o>5&&(e+=3+o-5)}for(var s=0;s<t-1;s++)for(var c=0;c<t-1;c++){var l=0;this.isDark(s,c)&&l++,this.isDark(s+1,c)&&l++,this.isDark(s,c+1)&&l++,this.isDark(s+1,c+1)&&l++,0!==l&&4!==l||(e+=3)}for(var f=0;f<t;f++)for(var h=0;h<t-6;h++)this.isDark(f,h)&&!this.isDark(f,h+1)&&this.isDark(f,h+2)&&this.isDark(f,h+3)&&this.isDark(f,h+4)&&!this.isDark(f,h+5)&&this.isDark(f,h+6)&&(e+=40);for(var p=0;p<t;p++)for(var g=0;g<t-6;g++)this.isDark(g,p)&&!this.isDark(g+1,p)&&this.isDark(g+2,p)&&this.isDark(g+3,p)&&this.isDark(g+4,p)&&!this.isDark(g+5,p)&&this.isDark(g+6,p)&&(e+=40);for(var v=0,y=0;y<t;y++)for(var d=0;d<t;d++)this.isDark(d,y)&&v++;return e+Math.abs(100*v/t/t-50)/5*10}},{key:"createData",value:function(){for(var e=h.RSBlock.getRSBlocks(this._typeNumber,this._errorCorrectLevel),r=new s.BitBuffer,n=0;n<this._qrData.length;n++){var o=this._qrData[n];r.put(o.getMode(),4),r.put(o.getLength(),o.getLengthInBits(this._typeNumber)),o.write(r)}for(var u=0,i=0;i<e.length;i++)u+=e[i].getDataCount();if(r.getLengthInBits()>8*u)throw new Error("There is not enough space in the QR code to store the data, ".concat(r.getLengthInBits()," > ").concat(8*u,", try increasing the typeNumber from ").concat(this._typeNumber));for(r.getLengthInBits()+4<=8*u&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(var a=!0;a&&!(r.getLengthInBits()>=8*u);)r.put(t.PAD0,8),r.getLengthInBits()>=8*u?a=!1:r.put(t.PAD1,8);return this.createBytes(r,e)}},{key:"createBytes",value:function(t,e){for(var r=0,n=0,o=0,u=[],i=[],a=0;a<e.length;a++)u.push([]),i.push([]);function s(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}for(var c=0;c<e.length;c++){var h=e[c].getDataCount(),p=e[c].getTotalCount()-h;n=Math.max(n,h),o=Math.max(o,p),u[c]=s(h);for(var g=0;g<u[c].length;g++)u[c][g]=255&t.getBuffer()[g+r];r+=h;var v=f.QRHelper.getErrorCorrectPolynomial(p),y=new l.Polynomial(u[c],v.getLength()-1).mod(v);i[c]=s(v.getLength()-1);for(var d=0;d<i[c].length;d++){var b=d+y.getLength()-i[c].length;i[c][d]=b>=0?y.getAt(b):0}}for(var m=0,_=0;_<e.length;_++)m+=e[_].getTotalCount();for(var k=s(m),P=0,T=0;T<n;T++)for(var w=0;w<e.length;w++)T<u[w].length&&(k[P]=u[w][T],P++);for(var E=0;E<o;E++)for(var C=0;C<e.length;C++)E<i[C].length&&(k[P]=i[C][E],P++);return k}},{key:"autoDetectTypeNumber",value:function(){if(0===this._typeNumber)for(var t=1;t<=40;t++){for(var e=h.RSBlock.getRSBlocks(t,this._errorCorrectLevel),r=new s.BitBuffer,n=0;n<this._qrData.length;n++){var o=this._qrData[n];r.put(o.getMode(),4),r.put(o.getLength(),o.getLengthInBits(t)),o.write(r)}for(var u=0,i=0;i<e.length;i++)u+=e[i].getDataCount();if(r.getLengthInBits()<=8*u){this._typeNumber=t;break}if(40===t)throw new Error("There is not enough space in the QR code to store the data, ".concat(r.getLengthInBits()," > ").concat(8*u,", typeNumber can not be > 40"))}}}]),t}();g.PAD0=236,g.PAD1=17,e.QR=g},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(13)),n(r(1))}])});