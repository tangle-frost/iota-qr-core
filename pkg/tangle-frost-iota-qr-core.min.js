!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@tangle-frost/iota-core/dist/helpers/numberHelper")):"function"==typeof define&&define.amd?define("@tangle-frost/iota-qr-core",["@tangle-frost/iota-core/dist/helpers/numberHelper"],t):"object"==typeof exports?exports["@tangle-frost/iota-qr-core"]=t(require("@tangle-frost/iota-core/dist/helpers/numberHelper")):e.TangleFrostIotaQrCore=t(e["@tangle-frost/iota-core/dist/helpers/numberHelper"])}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.QRDataMode||(t.QRDataMode={}))[r.number=1]="number",r[r.alphaNumeric=2]="alphaNumeric",r[r.byte8=4]="byte8"},function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.ErrorCorrectLevel||(t.ErrorCorrectLevel={}))[r.L=1]="L",r[r.M=0]="M",r[r.Q=3]="Q",r[r.H=2]="H"},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),a=function(){function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._mode=t,this._data=r}var t,r;return t=e,(r=[{key:"getMode",value:function(){return this._mode}},{key:"getData",value:function(){return this._data}},{key:"getLengthInBits",value:function(e){if(1<=e&&e<10)switch(this._mode){case o.QRDataMode.number:return 10;case o.QRDataMode.alphaNumeric:return 9;case o.QRDataMode.byte8:return 8;default:throw new Error("Invalid mode ".concat(this._mode))}else if(e<27)switch(this._mode){case o.QRDataMode.number:return 12;case o.QRDataMode.alphaNumeric:return 11;case o.QRDataMode.byte8:return 16;default:throw new Error("Invalid mode ".concat(this._mode))}else{if(!(e<41))throw new Error("Invalid typeNumber ".concat(e));switch(this._mode){case o.QRDataMode.number:return 14;case o.QRDataMode.alphaNumeric:return 13;case o.QRDataMode.byte8:return 16;default:throw new Error("Invalid mode ".concat(this._mode))}}}}])&&n(t.prototype,r),e}();t.QRDataBase=a},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,n;return t=e,n=[{key:"initialize",value:function(){if(!e.EXP_TABLE){e.EXP_TABLE=[],e.LOG_TABLE=[];for(var t=0;t<256;t++)e.EXP_TABLE.push(t<8?1<<t:e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8]),e.LOG_TABLE.push(0);for(var r=0;r<255;r++)e.LOG_TABLE[e.EXP_TABLE[r]]=r}}},{key:"glog",value:function(t){if(t<1)throw new Error("log(' + ".concat(t," + ')'"));return e.LOG_TABLE[t]}},{key:"gexp",value:function(t){for(var r=t;r<0;)r+=255;for(;256<=r;)r-=255;return e.EXP_TABLE[r]}}],null&&r(t.prototype,null),n&&r(t,n),e}();t.MathHelper=n},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),a=function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);for(var n=0;n<t.length&&0===t[n];)n++;this._num=[];for(var o=t.length-n,a=0;a<o;a++)this._num.push(t[n+a]);for(var u=0;u<r;u++)this._num.push(0)}var t,r;return t=e,(r=[{key:"getAt",value:function(e){return this._num[e]}},{key:"getLength",value:function(){return this._num.length}},{key:"toString",value:function(){for(var e="",t=0;t<this.getLength();t++)0<t&&(e+=","),e+=this.getAt(t);return e.toString()}},{key:"toLogString",value:function(){for(var e="",t=0;t<this.getLength();t++)0<t&&(e+=","),e+=o.MathHelper.glog(this.getAt(t));return e.toString()}},{key:"multiply",value:function(t){for(var r=[],n=this.getLength()+t.getLength()-1,a=0;a<n;a++)r.push(0);for(var u=0;u<this.getLength();u++)for(var i=0;i<t.getLength();i++)r[u+i]^=o.MathHelper.gexp(o.MathHelper.glog(this.getAt(u))+o.MathHelper.glog(t.getAt(i)));return new e(r)}},{key:"mod",value:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=o.MathHelper.glog(this.getAt(0))-o.MathHelper.glog(t.getAt(0)),n=[],a=0;a<this.getLength();a++)n.push(this.getAt(a));for(var u=0;u<t.getLength();u++)n[u]^=o.MathHelper.gexp(o.MathHelper.glog(t.getAt(u))+r);return new e(n).mod(t)}}])&&n(t.prototype,r),e}();t.Polynomial=a},function(e,t,r){function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(6)),n(r(1))},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),a=r(8),u=r(9),i=r(10),s=r(11),l=r(3),c=r(4),f=r(12),h=r(14),p=r(1),g=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:6,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p.ErrorCorrectLevel.L;if(function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),!o.NumberHelper.isInteger(t)||t<0||40<t)throw Error("The typeNumber parameter should be a number >= 0 and <= 40");this._typeNumber=t,this._errorCorrectLevel=r,this._qrData=[],this._moduleCount=0,this._modules=[],l.MathHelper.initialize()}var t,r;return t=e,(r=[{key:"addText",value:function(e){this._qrData.push(new u.QRByte8(e))}},{key:"addNumber",value:function(e){this._qrData.push(new i.QRNumber(e))}},{key:"addAlphaNumeric",value:function(e){this._qrData.push(new a.QRAlphaNumeric(e))}},{key:"generate",value:function(){this.autoDetectTypeNumber(),this.makeImpl(!1,this.getBestMaskPattern());for(var e=[],t=0;t<this._moduleCount;t++)for(var r=0;r<this._moduleCount;r++)e[r]=e[r]||[],e[r][t]=this.isDark(t,r);return e}},{key:"isDark",value:function(e,t){return null!==this._modules[e][t]&&this._modules[e][t]}},{key:"getBestMaskPattern",value:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=this.getLostPoint();(0===r||n<e)&&(e=n,t=r)}return t}},{key:"makeImpl",value:function(e,t){this._moduleCount=4*this._typeNumber+17,this._modules=[];for(var r=0;r<this._moduleCount;r++){this._modules.push([]);for(var n=0;n<this._moduleCount;n++)this._modules[r].push(null)}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this._moduleCount-7,0),this.setupPositionProbePattern(0,this._moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),7<=this._typeNumber&&this.setupTypeNumber(e);var o=this.createData();this.mapData(o,t)}},{key:"mapData",value:function(e,t){for(var r=-1,n=this._moduleCount-1,o=7,a=0,u=f.QRHelper.getMaskMethod(t),i=this._moduleCount-1;0<i;i-=2){6===i&&(i-=1);for(var s=!0;s;){for(var l=0;l<2;l++)if(null===this._modules[n][i-l]){var c=!1;a<e.length&&(c=1==(e[a]>>>o&1)),u(n,i-l)&&(c=!c),this._modules[n][i-l]=c,-1==(o-=1)&&(a++,o=7)}((n+=r)<0||this._moduleCount<=n)&&(n-=r,r=-r,s=!1)}}}},{key:"setupPositionAdjustPattern",value:function(){for(var e=f.QRHelper.getPatternPosition(this._typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],o=e[r];if(null===this._modules[n][o])for(var a=-2;a<=2;a++)for(var u=-2;u<=2;u++)this._modules[n+a][o+u]=-2===a||2===a||-2===u||2===u||0===a&&0===u}}},{key:"setupPositionProbePattern",value:function(e,t){for(var r=-1;r<=7;r++)for(var n=-1;n<=7;n++)e+r<=-1||this._moduleCount<=e+r||t+n<=-1||this._moduleCount<=t+n||(this._modules[e+r][t+n]=0<=r&&r<=6&&(0===n||6===n)||0<=n&&n<=6&&(0===r||6===r)||2<=r&&r<=4&&2<=n&&n<=4)}},{key:"setupTimingPattern",value:function(){for(var e=8;e<this._moduleCount-8;e++)null===this._modules[e][6]&&(this._modules[e][6]=e%2==0);for(var t=8;t<this._moduleCount-8;t++)null===this._modules[6][t]&&(this._modules[6][t]=t%2==0)}},{key:"setupTypeNumber",value:function(e){for(var t=f.QRHelper.getBCHTypeNumber(this._typeNumber),r=0;r<18;r++)this._modules[~~(r/3)][r%3+this._moduleCount-8-3]=!e&&1==(t>>r&1);for(var n=0;n<18;n++)this._modules[n%3+this._moduleCount-8-3][~~(n/3)]=!e&&1==(t>>n&1)}},{key:"setupTypeInfo",value:function(e,t){for(var r=this._errorCorrectLevel<<3|t,n=f.QRHelper.getBCHTypeInfo(r),o=0;o<15;o++){var a=!e&&1==(n>>o&1);o<6?this._modules[o][8]=a:o<8?this._modules[o+1][8]=a:this._modules[this._moduleCount-15+o][8]=a}for(var u=0;u<15;u++){var i=!e&&1==(n>>u&1);u<8?this._modules[8][this._moduleCount-u-1]=i:u<9?this._modules[8][15-u-1+1]=i:this._modules[8][15-u-1]=i}this._modules[this._moduleCount-8][8]=!e}},{key:"getLostPoint",value:function(){for(var e=this._moduleCount,t=0,r=0;r<e;r++)for(var n=0;n<e;n++){for(var o=0,a=this.isDark(r,n),u=-1;u<=1;u++)if(!(r+u<0||e<=r+u))for(var i=-1;i<=1;i++)n+i<0||e<=n+i||0===u&&0===i||a===this.isDark(r+u,n+i)&&o++;5<o&&(t+=3+o-5)}for(var s=0;s<e-1;s++)for(var l=0;l<e-1;l++){var c=0;this.isDark(s,l)&&c++,this.isDark(s+1,l)&&c++,this.isDark(s,l+1)&&c++,this.isDark(s+1,l+1)&&c++,0!==c&&4!==c||(t+=3)}for(var f=0;f<e;f++)for(var h=0;h<e-6;h++)this.isDark(f,h)&&!this.isDark(f,h+1)&&this.isDark(f,h+2)&&this.isDark(f,h+3)&&this.isDark(f,h+4)&&!this.isDark(f,h+5)&&this.isDark(f,h+6)&&(t+=40);for(var p=0;p<e;p++)for(var g=0;g<e-6;g++)this.isDark(g,p)&&!this.isDark(g+1,p)&&this.isDark(g+2,p)&&this.isDark(g+3,p)&&this.isDark(g+4,p)&&!this.isDark(g+5,p)&&this.isDark(g+6,p)&&(t+=40);for(var v=0,y=0;y<e;y++)for(var d=0;d<e;d++)this.isDark(d,y)&&v++;return t+Math.abs(100*v/e/e-50)/5*10}},{key:"createData",value:function(){for(var t=h.RSBlock.getRSBlocks(this._typeNumber,this._errorCorrectLevel),r=new s.BitBuffer,n=0;n<this._qrData.length;n++){var o=this._qrData[n];r.put(o.getMode(),4),r.put(o.getLength(),o.getLengthInBits(this._typeNumber)),o.write(r)}for(var a=0,u=0;u<t.length;u++)a+=t[u].getDataCount();if(r.getLengthInBits()>8*a)throw new Error("There is not enough space in the QR code to store the data, ".concat(r.getLengthInBits()," > ").concat(8*a,", try increasing the typeNumber from ").concat(this._typeNumber));for(r.getLengthInBits()+4<=8*a&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(var i=!0;i&&!(r.getLengthInBits()>=8*a);)r.put(e.PAD0,8),r.getLengthInBits()>=8*a?i=!1:r.put(e.PAD1,8);return this.createBytes(r,t)}},{key:"createBytes",value:function(e,t){for(var r=0,n=0,o=0,a=[],u=[],i=0;i<t.length;i++)a.push([]),u.push([]);function s(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}for(var l=0;l<t.length;l++){var h=t[l].getDataCount(),p=t[l].getTotalCount()-h;n=Math.max(n,h),o=Math.max(o,p),a[l]=s(h);for(var g=0;g<a[l].length;g++)a[l][g]=255&e.getBuffer()[g+r];r+=h;var v=f.QRHelper.getErrorCorrectPolynomial(p),y=new c.Polynomial(a[l],v.getLength()-1).mod(v);u[l]=s(v.getLength()-1);for(var d=0;d<u[l].length;d++){var b=d+y.getLength()-u[l].length;u[l][d]=0<=b?y.getAt(b):0}}for(var m=0,_=0;_<t.length;_++)m+=t[_].getTotalCount();for(var k=s(m),P=0,T=0;T<n;T++)for(var w=0;w<t.length;w++)T<a[w].length&&(k[P]=a[w][T],P++);for(var E=0;E<o;E++)for(var C=0;C<t.length;C++)E<u[C].length&&(k[P]=u[C][E],P++);return k}},{key:"autoDetectTypeNumber",value:function(){if(0===this._typeNumber)for(var e=1;e<=40;e++){for(var t=h.RSBlock.getRSBlocks(e,this._errorCorrectLevel),r=new s.BitBuffer,n=0;n<this._qrData.length;n++){var o=this._qrData[n];r.put(o.getMode(),4),r.put(o.getLength(),o.getLengthInBits(e)),o.write(r)}for(var a=0,u=0;u<t.length;u++)a+=t[u].getDataCount();if(r.getLengthInBits()<=8*a){this._typeNumber=e;break}if(40===e)throw new Error("There is not enough space in the QR code to store the data, ".concat(r.getLengthInBits()," > ").concat(8*a,", typeNumber can not be > 40"))}}}])&&n(t.prototype,r),e}();g.PAD0=236,g.PAD1=17,t.QR=g},function(t,r){t.exports=e},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),l=r(0),c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,l.QRDataMode.alphaNumeric,e))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,s.QRDataBase),r=t,(n=[{key:"getLength",value:function(){return this.getData().length}},{key:"write",value:function(e){for(var t=this.getData(),r=0;r+1<t.length;)e.put(45*this.getCode(t.charAt(r))+this.getCode(t.charAt(r+1)),11),r+=2;r<t.length&&e.put(this.getCode(t.charAt(r)),6)}},{key:"getCode",value:function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw new Error("Illegal character in string : ".concat(e))}}}])&&o(r.prototype,n),t}();t.QRAlphaNumeric=c},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),l=r(0),c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,l.QRDataMode.byte8,e))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,s.QRDataBase),r=t,(n=[{key:"getLength",value:function(){return this.stringToBytes(this.getData()).length}},{key:"write",value:function(e){for(var t=this.stringToBytes(this.getData()),r=0;r<t.length;r++)e.put(t[r],8)}},{key:"stringToBytes",value:function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||57344<=n?t.push(224|n>>12,128|n>>6&63,128|63&n):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n))}return t}}])&&o(r.prototype,n),t}();t.QRByte8=c},function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(2),l=r(0),c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,u(t).call(this,l.QRDataMode.number,e))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(t,s.QRDataBase),r=t,(n=[{key:"getLength",value:function(){return this.getData().length}},{key:"write",value:function(e){for(var t=this.getData(),r=0;r+2<t.length;)e.put(this.strToNum(t.substring(r,r+3)),10),r+=3;r<t.length&&(t.length-r==1?e.put(this.strToNum(t.substring(r,r+1)),4):t.length-r==2&&e.put(this.strToNum(t.substring(r,r+2)),7))}},{key:"strToNum",value:function(e){for(var t=0,r=0;r<e.length;r++)t=10*t+this.charToNum(e.charAt(r));return t}},{key:"charToNum",value:function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw new Error("Illegal character in string : ".concat(e))}}])&&o(r.prototype,n),t}();t.QRNumber=c},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._buffer=[],this._length=0}var t,n;return t=e,(n=[{key:"getBuffer",value:function(){return this._buffer}},{key:"getLengthInBits",value:function(){return this._length}},{key:"put",value:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))}},{key:"putBit",value:function(e){this._length===8*this._buffer.length&&this._buffer.push(0),e&&(this._buffer[~~(this._length/8)]|=128>>>this._length%8),this._length++}},{key:"toString",value:function(){for(var e="",t=0;t<this.getLengthInBits();t++)e+=this.getBit(t)?"1":"0";return e}},{key:"getBit",value:function(e){return 1==(this._buffer[~~(e/8)]>>>7-e%8&1)}}])&&r(t.prototype,n),e}();t.BitBuffer=n},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=r(13),u=r(0),i=r(3),s=r(4),l=function(){function e(){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this)}var t,r;return t=e,r=[{key:"getPatternPosition",value:function(t){return e.PATTERN_POSITION_TABLE[t-1]}},{key:"getMaxLength",value:function(t,r,n){var a=t-1,i=0,s=0;switch(n){case o.ErrorCorrectLevel.L:i=0;break;case o.ErrorCorrectLevel.M:i=1;break;case o.ErrorCorrectLevel.Q:i=2;break;case o.ErrorCorrectLevel.H:i=3;break;default:throw new Error("Unknown error correction level ".concat(n))}switch(r){case u.QRDataMode.number:s=0;break;case u.QRDataMode.alphaNumeric:s=1;break;case u.QRDataMode.byte8:s=2;break;default:throw new Error("Unknown data mode ".concat(r))}return e.MAX_LENGTH[a][i][s]}},{key:"getErrorCorrectPolynomial",value:function(e){for(var t=new s.Polynomial([1]),r=0;r<e;r++)t=t.multiply(new s.Polynomial([1,i.MathHelper.gexp(r)]));return t}},{key:"getMaskMethod",value:function(e){switch(e){case a.MaskPattern.PATTERN000:return function(e,t){return(e+t)%2==0};case a.MaskPattern.PATTERN001:return function(e,t){return e%2==0};case a.MaskPattern.PATTERN010:return function(e,t){return t%3==0};case a.MaskPattern.PATTERN011:return function(e,t){return(e+t)%3==0};case a.MaskPattern.PATTERN100:return function(e,t){return(~~(e/2)+~~(t/3))%2==0};case a.MaskPattern.PATTERN101:return function(e,t){return e*t%2+e*t%3==0};case a.MaskPattern.PATTERN110:return function(e,t){return(e*t%2+e*t%3)%2==0};case a.MaskPattern.PATTERN111:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw new Error("Invalid mask ".concat(e))}}},{key:"getBCHTypeInfo",value:function(t){for(var r=t<<10;0<=e.getBCHDigit(r)-e.getBCHDigit(e.G15);)r^=e.G15<<e.getBCHDigit(r)-e.getBCHDigit(e.G15);return(t<<10|r)^e.G15_MASK}},{key:"getBCHTypeNumber",value:function(t){for(var r=t<<12;0<=e.getBCHDigit(r)-e.getBCHDigit(e.G18);)r^=e.G18<<e.getBCHDigit(r)-e.getBCHDigit(e.G18);return t<<12|r}},{key:"getBCHDigit",value:function(e){for(var t=e,r=0;0!==t;)r++,t>>>=1;return r}}],null&&n(t.prototype,null),r&&n(t,r),e}();l.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],l.MAX_LENGTH=[[[41,25,17,10],[34,20,14,8],[27,16,11,7],[17,10,7,4]],[[77,47,32,20],[63,38,26,16],[48,29,20,12],[34,20,14,8]],[[127,77,53,32],[101,61,42,26],[77,47,32,20],[58,35,24,15]],[[187,114,78,48],[149,90,62,38],[111,67,46,28],[82,50,34,21]],[[255,154,106,65],[202,122,84,52],[144,87,60,37],[106,64,44,27]],[[322,195,134,82],[255,154,106,65],[178,108,74,45],[139,84,58,36]],[[370,224,154,95],[293,178,122,75],[207,125,86,53],[154,93,64,39]],[[461,279,192,118],[365,221,152,93],[259,157,108,66],[202,122,84,52]],[[552,335,230,141],[432,262,180,111],[312,189,130,80],[235,143,98,60]],[[652,395,271,167],[513,311,213,131],[364,221,151,93],[288,174,119,74]]],l.G15=1335,l.G18=7973,l.G15_MASK=21522,t.QRHelper=l},function(e,t){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.MaskPattern||(t.MaskPattern={}))[r.PATTERN000=0]="PATTERN000",r[r.PATTERN001=1]="PATTERN001",r[r.PATTERN010=2]="PATTERN010",r[r.PATTERN011=3]="PATTERN011",r[r.PATTERN100=4]="PATTERN100",r[r.PATTERN101=5]="PATTERN101",r[r.PATTERN110=6]="PATTERN110",r[r.PATTERN111=7]="PATTERN111"},function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=function(){function e(t,r){!function(t,r){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this._totalCount=t,this._dataCount=r}var t,r,a;return t=e,a=[{key:"getRSBlocks",value:function(t,r){for(var n=e.getRsBlockTable(t,r),o=n.length/3,a=[],u=0;u<o;u++)for(var i=n[3*u+0],s=n[3*u+1],l=n[3*u+2],c=0;c<i;c++)a.push(new e(s,l));return a}},{key:"getRsBlockTable",value:function(t,r){switch(r){case o.ErrorCorrectLevel.L:return e.RS_BLOCK_TABLE[4*(t-1)+0];case o.ErrorCorrectLevel.M:return e.RS_BLOCK_TABLE[4*(t-1)+1];case o.ErrorCorrectLevel.Q:return e.RS_BLOCK_TABLE[4*(t-1)+2];case o.ErrorCorrectLevel.H:return e.RS_BLOCK_TABLE[4*(t-1)+3]}throw new Error("Invalid error correct level ".concat(r))}}],(r=[{key:"getDataCount",value:function(){return this._dataCount}},{key:"getTotalCount",value:function(){return this._totalCount}}])&&n(t.prototype,r),a&&n(t,a),e}();a.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.RSBlock=a}])});